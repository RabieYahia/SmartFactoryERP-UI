<!-- ⚠️ COMPONENT: Expense List View
     - Purpose: Display all recorded expenses with date, description, category, and amount
     - No functional changes - styling updates only using Bootstrap classes
     - All data binding and navigation remain intact
-->

<div class="container-fluid p-4">
  <!-- Header Section: Title and action button for adding new expenses -->
  <div class="d-flex align-items-center justify-content-between mb-4">
    <div>
      <h2 class="h3 mb-1"> Expenses History</h2>
      <p class="text-muted small">Track and manage all organizational expenses</p>
    </div>
    <button class="btn btn-primary" routerLink="/expenses/create">
      <i class="bi bi-plus-circle me-2"></i> New Expense
    </button>
  </div>

  <!-- Expenses Table Section: Responsive Bootstrap table displaying all expenses -->
  <div class="table-responsive">
    <table class="table table-hover table-striped align-middle">
      <thead class="table-light">
        <tr>
          <th>Date</th>
          <th>Description</th>
          <th>Category</th>
          <th>Amount</th>
        </tr>
      </thead>
      <tbody>
        <!-- Loop through all expenses: track by ID for performance optimization -->
        @for (exp of expenses(); track exp.id) {
          <tr>
            <!-- Expense Date: try multiple possible fields and format defensively -->
            <td>
              {{ (exp.expenseDate || exp.date || exp.createdAt) ? ((exp.expenseDate || exp.date || exp.createdAt) | date: 'MMM d, y, h:mm a') : 'N/A' }}
            </td>
            
            <!-- Description: Brief description of the expense -->
            <td>{{ exp.description }}</td>
            
            <!-- Category Badge: Visual category indicator with info styling -->
            <td><span class="badge bg-info text-dark">{{ exp.category }}</span></td>
            
            <!-- Amount: Displayed in red (text-danger) with bold font and currency format -->
            <!-- fw-bold class: Makes the amount stand out visually -->
            <td class="text-danger fw-bold">- {{ exp.amount | currency }}</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>