<div class="container">
  <!-- Header Section -->
  <div class="mb-4">
    <nav aria-label="breadcrumb" class="mb-3">
      <ol class="breadcrumb small">
        <li class="breadcrumb-item"><a href="#" routerLink="/hr" class="text-decoration-none">HR & Departments</a></li>
        <li class="breadcrumb-item active">New Employee</li>
      </ol>
    </nav>
    <h2> Create New Employee</h2>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-card">
    
    <!-- Full Name field -->
    <div class="form-group">
      <label for="fullName">
        Full Name 
        <span class="text-danger">*</span>
      </label>
      <input 
        type="text" 
        id="fullName"
        formControlName="fullName" 
        placeholder="e.g. Ahmed Ali"
      >
    </div>

    <!-- Job Title field -->
    <div class="form-group">
      <label for="jobTitle">
        Job Title 
        <span class="text-danger">*</span>
      </label>
      <input 
        type="text" 
        id="jobTitle"
        formControlName="jobTitle" 
        placeholder="e.g. Warehouse Keeper"
      >
    </div>

    <!-- Department select -->
    <div class="form-group">
      <label for="departmentId">
        Department 
        <span class="text-danger">*</span>
      </label>
      <select id="departmentId" formControlName="departmentId">
        <option value="">-- Select Department --</option>
        @for (dept of departments(); track dept.id) {
          <option [value]="dept.id">{{ dept.name }}</option>
        }
      </select>
    </div>

    <!-- Email field -->
    <div class="form-group">
      <label for="email">
        Email 
        <span class="text-danger">*</span>
      </label>
      <input 
        type="email" 
        id="email"
        formControlName="email" 
        placeholder="email@company.com"
      >
    </div>

    <!-- Phone field -->
    <div class="form-group">
      <label for="phoneNumber">
        Phone Number 
        <span class="text-danger">*</span>
      </label>
      <input 
        type="text" 
        id="phoneNumber"
        formControlName="phoneNumber" 
        placeholder="+20 1xxxxxxxxx"
      >
    </div>

    <!-- Form actions -->
    <div class="actions">
      <button type="button" class="btn-secondary" routerLink="/hr">
        <i class="bi bi-x-circle"></i> Cancel
      </button>
      <button type="submit" class="btn-primary" [disabled]="isSubmitting() || form.invalid">
        @if (isSubmitting()) { 
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Saving... 
        } @else { 
          <i class="bi bi-check-circle"></i> Save Employee
        }
      </button>
    </div>

  </form>
</div>