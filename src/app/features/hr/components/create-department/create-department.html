<div class="container">
  <!-- Header Section -->
  <div class="mb-4">
    <nav aria-label="breadcrumb" class="mb-3">
      <ol class="breadcrumb small">
        <li class="breadcrumb-item"><a href="#" routerLink="/hr" class="text-decoration-none">HR & Departments</a></li>
        <li class="breadcrumb-item active">New Department</li>
      </ol>
    </nav>
    <h2> Create New Department</h2>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-card">
    
    <!-- Department Name field -->
    <div class="form-group">
      <label for="name">
        Department Name 
        <span class="text-danger">*</span>
      </label>
      <input 
        type="text" 
        id="name"
        formControlName="name" 
        placeholder="e.g. Sales & Marketing"
      >
    </div>

    <!-- Code field -->
    <div class="form-group">
      <label for="code">
        Department Code 
        <span class="text-danger">*</span>
      </label>
      <input 
        type="text" 
        id="code"
        formControlName="code" 
        placeholder="e.g. SL-MKT"
        style="text-transform: uppercase;"
      >
    </div>

    <!-- Description field -->
    <div class="form-group">
      <label for="description">
        Description
        <span style="color: #6c757d; font-weight: normal; font-size: 0.85rem;">(Optional)</span>
      </label>
      <textarea 
        id="description"
        formControlName="description" 
        rows="4"
        placeholder="Describe the department's role and responsibilities..."
        style="padding: 12px 15px; border: 2px solid #dee2e6; border-radius: 8px; font-size: 1rem; color: #333; transition: all 0.3s ease; background-color: #fdfdfd; font-family: inherit; resize: vertical;"
      ></textarea>
    </div>

    <!-- Form actions -->
    <div class="actions">
      <button type="button" class="btn-secondary" routerLink="/hr">
        <i class="bi bi-x-circle"></i> Cancel
      </button>
      <button type="submit" class="btn-primary" [disabled]="isSubmitting() || form.invalid">
        @if (isSubmitting()) { 
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Saving... 
        } @else { 
          <i class="bi bi-check-circle"></i> Save Department
        }
      </button>
    </div>

  </form>
</div> 