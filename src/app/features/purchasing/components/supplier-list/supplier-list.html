<div class="container-fluid p-4">
  <div class="d-flex align-items-center justify-content-between mb-4">
    <div>
      <h2 class="h3 mb-0">Suppliers List</h2>
    </div>
    <div class="d-flex gap-2">
      <button class="btn btn-outline-secondary" routerLink="/purchasing/orders">
        <i class="bi bi-file-text me-2"></i> View Orders
      </button>
      <button class="btn btn-primary" routerLink="/purchasing/create">
        <i class="bi bi-plus-circle me-2"></i> Add Supplier
      </button>
    </div>
  </div>

  @if (isLoading()) {
    <div class="alert alert-info d-flex align-items-center" role="alert">
      <i class="bi bi-hourglass-split me-2"></i>
      <span>Loading suppliers data...</span>
    </div>
  }
  @else {
    <div class="table-responsive">
      <table class="table table-hover table-striped align-middle">
        <thead class="table-light">
          <tr>
            <th>Code</th>
            <th>Company Name</th>
            <th>Contact Person</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (supplier of suppliers(); track supplier.id) {
            <tr>
              <td><strong>{{ supplier.supplierCode }}</strong></td>
              <td>{{ supplier.supplierName }}</td>
              <td>{{ supplier.contactPerson }}</td>

              <td>
                @if(supplier.email) {
                  <a [href]="'mailto:' + supplier.email" class="text-decoration-none">{{ supplier.email }}</a>
                } @else {
                  <span class="text-muted">-</span>
                }
              </td>

              <td>{{ supplier.phoneNumber }}</td>

              <td>
                <span class="badge"
                      [class.bg-success]="supplier.isActive"
                      [class.bg-secondary]="!supplier.isActive">
                  {{ supplier.isActive ? 'Active' : 'Inactive' }}
                </span>
              </td>
              <td>
                <div class="d-flex gap-2">
                  <a class="btn btn-sm btn-outline-primary" [routerLink]="['/purchasing/edit', supplier.id]">
                    <i class="bi bi-pencil"></i>
                  </a>
                </div>
              </td>
            </tr>
          }
          @empty {
            <tr>
              <td colspan="6" class="text-center py-4 text-muted">
                <i class="bi bi-inbox me-2"></i> No suppliers found.
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
