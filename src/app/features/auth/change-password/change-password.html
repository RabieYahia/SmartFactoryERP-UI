<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      
      <div class="card shadow-sm border-0">
        <div class="card-header pt-4 pb-0" style="background: var(--surface); color: var(--text-primary); border-bottom: 1px solid var(--border-color);">
          <h4 class="fw-bold"><i class="bi bi-key me-2"></i> Change Password</h4>
        </div>
        
        <div class="card-body p-4">
          
          @if (successMessage()) {
            <div class="alert alert-success">{{ successMessage() }}</div>
          }
          @if (errorMessage()) {
            <div class="alert alert-danger">{{ errorMessage() }}</div>
          }

          <form (ngSubmit)="onSubmit()">
            
            <div class="mb-3">
              <label class="form-label">Current Password</label>
              <input type="password" class="form-control" [(ngModel)]="model.currentPassword" name="currentPassword" required>
            </div>

            <hr class="my-4 text-muted opacity-25">

            <div class="mb-3">
              <label class="form-label">New Password</label>
              <input type="password" class="form-control" [(ngModel)]="model.newPassword" name="newPassword" required minlength="8">
              <small class="text-muted">Must be at least 8 characters.</small>
            </div>

            <div class="mb-3">
              <label class="form-label">Confirm New Password</label>
              <input type="password" class="form-control" [(ngModel)]="model.confirmPassword" name="confirmPassword" required>
            </div>

            <div class="d-flex justify-content-end mt-4">
              <button type="submit" class="btn btn-primary px-4" [disabled]="isLoading()">
                @if (isLoading()) { 
                  <span class="spinner-border spinner-border-sm me-2"></span> Saving... 
                } @else { 
                  Update Password 
                }
              </button>
            </div>

          </form>
        </div>
      </div>

    </div>
  </div>
</div>